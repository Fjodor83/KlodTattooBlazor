@inject NavigationManager NavigationManager
@inject IJSRuntime JS

<nav class="navbar navbar-expand-lg navbar-dark @NavbarClass" data-dynamic-navbar="@IsDynamicNavbar.ToString().ToLower()">
    <div class="container-fluid px-3 px-lg-4">
        <!-- Logo/Brand -->
        <a class="navbar-brand d-flex align-items-center" href="/">
            <img src="/images/klod_logo.png" alt="Klod Tattoo Logo" class="navbar-logo-custom" />
        </a>

        <!-- Mobile Toggle -->
        <button class="navbar-toggler border-0" type="button" @onclick="ToggleNavMenu">
            <span class="navbar-toggler-icon"></span>
        </button>

        <!-- Nav Items -->
        <div class="@NavMenuCssClass navbar-collapse" id="navbarNav">
            <!-- Main Navigation -->
            <ul class="navbar-nav ms-auto align-items-lg-center gap-lg-2">
                <li class="nav-item">
                    <NavLink class="nav-link px-2 position-relative nav-link-custom" href="" Match="NavLinkMatch.All">
                        <i class="fas fa-home me-1"></i>Home
                    </NavLink>
                </li>
                <li class="nav-item">
                    <NavLink class="nav-link px-2 position-relative nav-link-custom" href="portfolio">
                        <i class="fas fa-images me-1"></i>Portfolio
                    </NavLink>
                </li>
                <li class="nav-item">
                    <NavLink class="nav-link px-2 position-relative nav-link-custom" href="services">
                        <i class="fas fa-palette me-1"></i>Services
                    </NavLink>
                </li>
                <li class="nav-item">
                    <NavLink class="nav-link px-2 position-relative nav-link-custom" href="info">
                        <i class="fas fa-info-circle me-1"></i>Info
                    </NavLink>
                </li>
                <li class="nav-item">
                    <NavLink class="nav-link px-2 position-relative nav-link-custom" href="contacts">
                        <i class="fas fa-envelope me-1"></i>Contacts
                    </NavLink>
                </li>
            </ul>

            <!-- Desktop Divider -->
            <div class="d-none d-lg-block mx-3" style="border-right: 1px solid rgba(255,255,255,0.2); height: 24px;"></div>

            <!-- Functional Group (Booking) -->
            <div class="d-flex align-items-lg-center gap-3 flex-column flex-lg-row mt-3 mt-lg-0">
                <!-- Booking Button -->
                <a class="btn btn-gold px-4 py-2 rounded-pill shadow-sm" href="booking">
                    <i class="fas fa-calendar-check me-2"></i>Book Now
                </a>
            </div>
        </div>
    </div>
</nav>

<style>
    /* Navbar Custom Styles */
    .navbar {
        border-bottom: 2px solid rgba(212, 175, 55, 0.2);
        transition: all 0.3s ease;
    }

    .nav-link-custom {
        color: rgba(255, 255, 255, 0.85) !important;
        transition: all 0.3s ease;
        font-weight: 500;
        font-size: 0.95rem;
    }

    .nav-link-custom:hover,
    .nav-link-custom.active {
        color: #d4af37 !important;
    }

    .nav-link-custom::after {
        content: '';
        position: absolute;
        bottom: 0;
        left: 50%;
        width: 0;
        height: 2px;
        background: #d4af37;
        transition: all 0.3s ease;
        transform: translateX(-50%);
    }

    .nav-link-custom:hover::after,
    .nav-link-custom.active::after {
        width: 80%;
    }

    /* Button Gold */
    .btn-gold {
        background: linear-gradient(135deg, #d4af37 0%, #c9a22e 100%);
        border: none;
        color: #000;
        font-weight: 600;
        letter-spacing: 1px;
        transition: all 0.3s ease;
        font-size: 0.9rem;
    }

    .btn-gold:hover {
        transform: translateY(-2px);
        box-shadow: 0 8px 20px rgba(212, 175, 55, 0.4);
        color: #000;
    }

    /* Responsive */
    @@media (max-width: 991px) {
        .navbar-collapse {
            background: rgba(26, 26, 26, 0.98);
            padding: 1rem;
            margin-top: 1rem;
            border-radius: 10px;
        }

        .nav-link-custom::after {
            display: none;
        }
    }
</style>

@code {
    [Parameter]
    public bool IsHomePage { get; set; }

    private bool collapseNavMenu = true;
    private string NavMenuCssClass => collapseNavMenu ? "collapse" : "";
    private bool IsDynamicNavbar => IsHomePage;
    private string NavbarClass => IsHomePage ? "navbar-transparent shadow-none" : "navbar-glass shadow-sm";

    private void ToggleNavMenu()
    {
        collapseNavMenu = !collapseNavMenu;
    }
}
